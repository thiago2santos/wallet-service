# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to terraform.tfvars and customize for your deployment
# =============================================================================

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================

aws_region  = "sa-east-1"  # SÃ£o Paulo, Brazil
domain_name = "wallet.yourcompany.com"

# =============================================================================
# SCALING CONFIGURATION
# =============================================================================

target_tps      = 5000      # Target transactions per second
expected_users  = 10000000  # 10 million users

# =============================================================================
# COMPUTE CONFIGURATION (EKS)
# =============================================================================

eks_node_instance_types = ["c5.2xlarge"]  # 8 vCPU, 16 GB RAM
min_nodes              = 10               # Minimum for 5000 TPS
max_nodes              = 50               # Maximum scale

# =============================================================================
# DATABASE CONFIGURATION (Aurora MySQL Serverless v2)
# =============================================================================

aurora_min_capacity           = 8   # 16 GB RAM, 4 vCPU equivalent
aurora_max_capacity           = 64  # 128 GB RAM, 32 vCPU equivalent
aurora_backup_retention_days  = 35  # Maximum retention for compliance

# =============================================================================
# CACHE CONFIGURATION (ElastiCache Redis)
# =============================================================================

redis_node_type        = "r6g.2xlarge"  # 8 vCPU, 52 GB RAM
redis_num_cache_nodes  = 3              # Multi-AZ with failover

# =============================================================================
# MESSAGING CONFIGURATION (MSK Kafka)
# =============================================================================

kafka_instance_type           = "m5.2xlarge"  # 8 vCPU, 32 GB RAM
kafka_number_of_broker_nodes  = 6             # 2 per AZ
kafka_ebs_volume_size         = 1000          # 1 TB per broker

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

log_retention_days           = 30    # CloudWatch log retention
enable_performance_insights  = true  # Aurora Performance Insights
enable_enhanced_monitoring   = true  # RDS Enhanced Monitoring

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

enable_encryption_at_rest    = true  # Encrypt all data at rest
enable_encryption_in_transit = true  # Encrypt all data in transit

# =============================================================================
# COST OPTIMIZATION
# =============================================================================

enable_spot_instances      = false  # Use on-demand for production stability
enable_scheduled_scaling   = true   # Scale based on business hours

# =============================================================================
# ADDITIONAL TAGS
# =============================================================================

additional_tags = {
  Owner       = "platform-team"
  CostCenter  = "engineering"
  Compliance  = "pci-dss"
  Backup      = "required"
  Monitoring  = "critical"
}

# =============================================================================
# ESTIMATED COSTS (Monthly USD)
# =============================================================================
# 
# EKS Nodes (20 x c5.2xlarge):     ~$3,600
# Aurora Serverless v2 (16 ACUs):  ~$1,200  
# ElastiCache (3 x r6g.2xlarge):   ~$900
# MSK Kafka (6 x m5.2xlarge):      ~$1,800
# Networking & Storage:             ~$500
# 
# TOTAL ESTIMATED:                  ~$8,000/month
# 
# =============================================================================
