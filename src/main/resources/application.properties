# Default database configuration
quarkus.datasource.db-kind=mysql
quarkus.datasource.username=wallet
quarkus.datasource.password=wallet
quarkus.datasource.reactive.url=mysql://localhost:3306/wallet

# Additional named datasources
quarkus.datasource.write.db-kind=mysql
quarkus.datasource.write.username=wallet
quarkus.datasource.write.password=wallet
quarkus.datasource.write.reactive.url=mysql://localhost:3306/wallet

quarkus.datasource.read.db-kind=mysql
quarkus.datasource.read.username=wallet
quarkus.datasource.read.password=wallet
quarkus.datasource.read.reactive.url=mysql://localhost:3307/wallet

# Hibernate configuration
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.persistence-unit.name=wallet
quarkus.hibernate-orm.persistence-unit.default=true

# Redis configuration
quarkus.redis.hosts=redis://localhost:6379
quarkus.redis.timeout=10s
quarkus.redis.max-pool-size=20
quarkus.redis.max-pool-waiting=20

# Kafka configuration
kafka.bootstrap.servers=localhost:9092
kafka.schema.registry.url=http://localhost:8081

# Confluent Schema Registry configuration
quarkus.confluent.registry.url=http://localhost:8081
quarkus.confluent.registry.auto-register=true

# Disable Dev Services (we have our own infrastructure)
quarkus.devservices.enabled=false
quarkus.apicurio.devservices.enabled=false

# Event producer configuration (disabled for create wallet focus)
# mp.messaging.outgoing.wallet-events.connector=smallrye-kafka
# mp.messaging.outgoing.wallet-events.topic=wallet-events
# mp.messaging.outgoing.wallet-events.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer
# mp.messaging.outgoing.wallet-events.key.serializer=org.apache.kafka.common.serialization.StringSerializer
# mp.messaging.outgoing.wallet-events.acks=all
# mp.messaging.outgoing.wallet-events.retries=3
# mp.messaging.outgoing.wallet-events.delivery.timeout.ms=120000
# mp.messaging.outgoing.wallet-events.enable.idempotence=true
# mp.messaging.outgoing.wallet-events.transaction.id.prefix=wallet-events-

# Event consumer configuration (disabled for now - focusing on command side)
# mp.messaging.incoming.wallet-events.connector=smallrye-kafka
# mp.messaging.incoming.wallet-events.topic=wallet-events
# mp.messaging.incoming.wallet-events.value.deserializer=io.quarkus.kafka.client.serialization.ObjectMapperDeserializer
# mp.messaging.incoming.wallet-events.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
# mp.messaging.incoming.wallet-events.auto.offset.reset=earliest
# mp.messaging.incoming.wallet-events.enable.auto.commit=false
# mp.messaging.incoming.wallet-events.isolation.level=read_committed
# mp.messaging.incoming.wallet-events.broadcast=true
# mp.messaging.incoming.wallet-events.failure-strategy=retry
# mp.messaging.incoming.wallet-events.retry-attempts=3
# mp.messaging.incoming.wallet-events.retry-max-wait=1s

# Snapshot producer configuration (disabled for create wallet focus)
# mp.messaging.outgoing.wallet-snapshots.connector=smallrye-kafka
# mp.messaging.outgoing.wallet-snapshots.topic=wallet-snapshots
# mp.messaging.outgoing.wallet-snapshots.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer
# mp.messaging.outgoing.wallet-snapshots.key.serializer=org.apache.kafka.common.serialization.StringSerializer
# mp.messaging.outgoing.wallet-snapshots.acks=all
# mp.messaging.outgoing.wallet-snapshots.retries=3
# mp.messaging.outgoing.wallet-snapshots.enable.idempotence=true

# Snapshot consumer configuration (disabled for now - focusing on command side)
# mp.messaging.incoming.wallet-snapshots.connector=smallrye-kafka
# mp.messaging.incoming.wallet-snapshots.topic=wallet-snapshots
# mp.messaging.incoming.wallet-snapshots.value.deserializer=io.quarkus.kafka.client.serialization.ObjectMapperDeserializer
# mp.messaging.incoming.wallet-snapshots.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
# mp.messaging.incoming.wallet-snapshots.auto.offset.reset=earliest
# mp.messaging.incoming.wallet-snapshots.enable.auto.commit=false

# OpenAPI configuration
quarkus.smallrye-openapi.info-title=Wallet Service API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=A service for managing digital wallets
quarkus.swagger-ui.always-include=true

# Metrics configuration
quarkus.micrometer.export.prometheus.path=/metrics
quarkus.micrometer.binder.kafka.enabled=true
quarkus.micrometer.binder.redis.enabled=true
quarkus.micrometer.binder.jvm=true
quarkus.micrometer.binder.system=true

# Health check configuration
quarkus.health.extensions.enabled=true
quarkus.health.openapi.included=true

# Logging configuration
quarkus.log.level=INFO
quarkus.log.category."com.wallet".level=DEBUG
quarkus.log.category."org.apache.kafka".level=WARN
quarkus.log.category."org.hibernate".level=WARN